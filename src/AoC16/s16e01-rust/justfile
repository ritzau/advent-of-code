# Advent of Code Solution
# All commands use Nix for reproducible builds

# Build the solution
build:
    nix build

# Run the main verification binary
run:
    nix run

# Run a specific part with input from stdin
run-part PART:
    nix run .#{{PART}}

# Run unit tests
test:
    nix run .#test

# Run clippy linter
lint:
    nix run .#lint

# Format code
format:
    nix run .#format

# Clean build artifacts
clean:
    rm -rf target/ result

# Run all nix checks (tests + lint)
check:
    nix flake check

# Verify solution (run tests + lint interactively)
verify:
    @echo "Running tests..."
    @just test
    @echo "\nRunning linter..."
    @just lint
    @echo "\nâœ… All checks passed!"
